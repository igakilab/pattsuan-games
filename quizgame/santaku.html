<html>
<head>
<meta charset="utf-8">
<title>SPI4択クイズ</title>
</head>
<body bgcolor = "#00ff00">
<h1>4択クイズ</h1>
<hr>
<h2>問題</h2>
<div id="text_q"></div>
<h2>選択</h2>
<div id="text_s"></div>
<h2>解答</h2>
<div id="text_a"></div>

<script type="text/javascript">
//問題と解答
qa = new Array();
qa[0] = ["あるサークルには、男性6人と女性4人が所属している。この中から掃除当番を男性2人、女性2人選ぶとすると、選び方は何通りあるか？","45","60","90","120",3];
qa[1] = ["ある品物の原価は1200円である。この品物に原価の3割の利益を得られえるように定価をつけたが、売れないので定価の1割引で売ることにした。売価はいくらか？","1368","1404","1440","1468",2];
qa[2] = ["原価が800円の品物に、定価の2割引で売っても、原価の3割の利益が得られるように定価をつけた。定価はいくらか？","1000","1100","1200","1300",4];
qa[3] = ["商品Aの定価は1個300円である。ただし、11個以上のまとめ買いの場合は、10個を超えた分については1個250円となる。 20個まとめ買いしたときの総額はいくらか？","5200","5300","5400","5500",4];
qa[4] = ["ある高校の吹奏楽部は、文化祭でコンサートを開くことになり、8曲の中から演奏する曲を選ぶこととした。 このうち3曲を選ぶとすると、その選び方は何通りあるか？","28","36","56","72",3];
qa[5] = ["１から２００までの整数で、３の倍数または５の倍数になる数字はいくつあるか ？","93","81","78","56",1];
qa[6] = ["ある野球チームに、現在の打率が3割2分の打者がいる。この打者が3打数で3安打する確率はどれか？","0.033","0.314","0.68","0.284",1];
qa[7] = ["25ｘ-18+｛3-（4ｘ-5）｝＝29ｘ-26 ？","x=1","x=2","x=3","x=4",2];
qa[8] = ["数列7,10,13,16,19・・・がある。この数列の第10項（10個目の数字）はいくらか？","25","31","34","44",3];
qa[9] = ["2進法＋2進法の計算です。111＋1010の答えを2進法で求めなさい？","11100","1100","11101","10001",4];

//初期設定
q_sel = 4;//選択肢の数
q_max = 10//出題数

setReady();

function setReady(){
	count = 0;//問題番号
	ansers = new Array();//解答記録
	quiz();
}


//問題表示
function quiz(){
	var s, n;
	//問題
	ran = Math.floor(Math.random()*qa.length);//問題をランダムにする
	document.getElementById("text_q").innerHTML = (count + 1) + "問目 : " + qa[ran][0];	
	//選択肢
	s = "";
	for(n=1;n<=q_sel;n++){
		if(qa[ran][n] != ""){
			s += "[<a href='javascript:anser(" + n + ")'>" + n + ":" + qa[count][n] + "</a>]";
		}
	}
	document.getElementById("text_s").innerHTML = s;
}

//解答表示
function anser(num) {
	var s, n, seikai = 0, fuseikai = 0;
	s = (count + 1) + "問目：";
	//答え合わせ
	if (num == qa[count][q_sel + 1]) {
		//正解
		s += "正解　" + qa[ran][num];
		ansers[count] = "正解";
	} else {
		s += "不正解　" + qa[ran][num];
		ansers[count] = "不正解";
	}
	document.getElementById("text_a").innerHTML =  s;

	//次の問題を表示
	count++;
	if(count < q_max){
		quiz();
	}else{
		//終了
		s = "<table border='2'><caption>成績発表</caption>";
		//1行目
		s += "<tr><th>問題</th>";
		for (n=0;n<qa.length;n++) {
			s += "<th>" + (n+1) + "</th>";
		}
		s += "</tr>";
		
		//2行目
		s += "<tr><th>成績</th>";
		for (n=0;n<qa.length;n++) {
			s += "<td>" + ansers[n] + "</td>";
		}
		s += "</tr>";
		s += "</table>";
		document.getElementById("text_q").innerHTML = s;
		
		//次の選択肢
		s = "【<a href='javascript:history.back()'>前のページに戻る</a>】";
		s += "【<a href='javascript:setReady()'>同じ問題を最初から</a>】";
		document.getElementById("text_s").innerHTML = s;
	}	
}

</script>
</body>
</html>
